import pandas as pd
import random
import math

from google.colab import files

#uploaded = files.upload()

#def genreDF(genre)
import numpy as np

movies_DF = pd.DataFrame(pd.read_csv('IMDb movies.csv')) # Download the dataframe
movies_DF = movies_DF[['title', 'genre', 'language', 'description']].copy()
# could also use 'duration' and print how long the movie is
movies_DF.dropna(subset = ["language"], inplace=True) #drops rows that have NaN as their language value
movies_DF = movies_DF[movies_DF.language != "None"]

for i in movies_DF['language'].values:
    #print(i, len(i))
    if(i[0:4] == "None"):
        #print("This is None!")
        #print("New value is: ", i[6:])
        i = i[6:]
    #print(i, len(i))


#copied_DF = movies_DF # this copies the movie dataFrame into a new dataFrame to manipulate
#count = 10
for i in movies_DF['genre'].values:
  
  if 'Comedy' not in i: #do a string search for the genre we want
#    print(i, "This doesn't have Comedy")
    print(type(i))
    i = "None" # if it doesn't match, remove that dataFrame row
#    print(i, "This should be NaN")
#    print()
#    
#  elif 'Comedy' in i:
#    print(i, "This has Comedy")
#    print()
#    count-=1
#  if count == 0:
#    break
copied_DF = movies_DF[movies_DF.genre != "None"]
#copied_DF.dropna(subset = ['genre'], inplace=True) #drops rows that have NaN as their genre value

#genre_DF = copied_DF

#genre_DF
copied_DF
#movies_DF = movies_DF.reset_index(drop=True)
#movies_DF


# This can be made into a function  
def movieSelection():
  copied_DF = movies_DF[['title', 'description']].copy()  # taking a copy of our movies_DF that has been manipulated

  copied_DF = copied_DF.head(10)

  num_to_select = 5

  list_of_random_items = copied_DF.sample(n = num_to_select)

  list_of_random_items = list_of_random_items.values.tolist()

  first_random_movie_TITLE = list_of_random_items[0][0]
  first_random_movie_DESC = list_of_random_items[0][1]
  #print("Title of movie: %s,  Movie description: %s" %(first_random_movie_TITLE, first_random_movie_DESC) )
  print()

  second_random_movie_TITLE = list_of_random_items[1][0]
  second_random_movie_DESC = list_of_random_items[1][1]
  #print("Title of movie: %s,  Movie description: %s" %(second_random_movie_TITLE, second_random_movie_DESC) )
  print()

  third_random_movie_TITLE = list_of_random_items[2][0]
  third_random_movie_DESC = list_of_random_items[2][1]
  #print("Title of movie: %s,  Movie description: %s" %(third_random_movie_TITLE, third_random_movie_DESC) )
  print()

  fourth_random_movie_TITLE = list_of_random_items[3][0]
  fourth_random_movie_DESC = list_of_random_items[3][1]
  #print("Title of movie: %s,  Movie description: %s" %(fourth_random_movie_TITLE, fourth_random_movie_DESC) )
  print()

  fifth_random_movie_TITLE = list_of_random_items[4][0]
  fifth_random_movie_DESC = list_of_random_items[4][1]
  #print("Title of movie: %s,  Movie description: %s" %(fifth_random_movie_TITLE, fifth_random_movie_DESC) )
  print()

  movies = {first_random_movie_TITLE:first_random_movie_DESC ,second_random_movie_TITLE:second_random_movie_DESC ,third_random_movie_TITLE:third_random_movie_DESC ,fourth_random_movie_TITLE:fourth_random_movie_DESC ,fifth_random_movie_TITLE:fifth_random_movie_DESC }
  return movies
  
  
  movies_DF.head(10) #This is just for reference to see if the above worked out with hardcoded df
  
  
  
choice=True
while choice:
    print("""
    1: Action
    2: Adventure
    3: Biography
    4: Comedy
    5: Crime
    6: Drama
    7: Family
    8: Fantasy
    9: History
    10: Horror
    11: Mystery
    12: Romance
    13: Sci-Fi
    14: Sport
    15: Thriller
    16: War
    17: Western
    18: Quit
    """)
    choice=input("What movie genre would you like to watch?\n")
    
    if choice=="1":
        print("You've chosen Action movies\n")
        choice = 'Action'
        
    elif choice=="2":
        print("You've chosen Adventure movies\n")
        choice = 'Adventure'

    elif choice=="3":
        print("You've chosen Biography movies\n")
        choice = 'Biography'

    elif choice=="4":
        print("You've chosen Comedy movies\n")
        choice = 'Comedy'

    elif choice=="5":
        print("You've chosen Crime movies\n")
        choice = 'Crime'

    elif choice=="6":
        print("You've chosen Drama movies\n")
        choice = 'Drama'

    elif choice=="7":
        print("You've chosen Family movies\n")
        choice = 'Family'

    elif choice=="8":
        print("You've chosen Fantasy movies\n")
        choice = 'Fantasy'

    elif choice=="9":
        print("You've chosen History movies\n")
        choice = 'History'

    elif choice=="10":
        print("You've chosen Horror movies\n")
        choice = 'Horror'

    elif choice=="11":
        print("You've chosen Mystery movies\n")
        choice = 'Mystery'

    elif choice=="12":
        print("You've chosen Romance movies\n")
        choice = 'Romance'

    elif choice=="13":
        print("You've chosen Sci-Fi movies\n")
        choice = 'Sci-Fi'

    elif choice=="14":
        print("You've chosen Sport movies\n")
        choice = 'Sport'

    elif choice=="15":
        print("You've chosen Thriller movies\n")
        choice = 'Thriller'

    elif choice=="16":
        print("You've chosen War movies\n")
        choice = 'War'

    elif choice=="17":
        print("You've chosen Western movies\n")
        choice = 'Western'

    elif choice=="18":
        print("Goodbye")
        break
        
    else:
        print("Not a Valid Choice. Please try again.\n")
        
    userMovie = genreDF(choice)
